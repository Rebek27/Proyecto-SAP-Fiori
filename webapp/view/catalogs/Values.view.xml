<mvc:View
    controllerName="com.invertions.sapfiorimodinv.controller.Values"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout.form"
    class="sapUiSizeCompact">
        
    <!-- ðŸ”¹ Formulario CRUD -->
    <layout:SimpleForm 
        id="formValues"
        editable="true"
        layout="ResponsiveGridLayout"
        title="Agregar/Editar Valor">
        
        <Label text="LABELID" required="true"/>
        <Text text="{values>/selectedValue/LABELID}"/>
        
        <Label text="VALUEID" required="true"/>
        <Input value="{newValueModel>/VALUEID}" enabled="{= !${editMode>/edit}}" />
        
        <Label text="VALUE" required="true"/>
        <Input value="{newValueModel>/VALUE}" />
        
        <Label text="VALUEPAID"/>
        <Input value="{newValueModel>/VALUEPAID}"/>

        <Label text="ALIAS"/>
        <Input value="{newValueModel>/ALIAS}" />
        
        <Label text="IMAGE"/>
        <Input value="{newValueModel>/IMAGE}" />
        
        <Label text="DESCRIPTION"/>
        <TextArea value="{newValueModel>/DESCRIPTION}" rows="3"/>
        
        <Toolbar>
            <ToolbarSpacer/>
            <Button 
                text="{= ${editMode>/edit} ? 'Actualizar' : 'Guardar'}"
                type="Emphasized"
                icon="sap-icon://save"
                press=".onSaveValues"/>
            <Button
                text="Cancelar"
                press=".onCancelEdit"
                visible="{editMode>/edit}"/>
        </Toolbar>
    </layout:SimpleForm>

    <!-- ðŸ”¹ Barra de herramientas -->
    <OverflowToolbar>
        <Title text="Valores" level="H2"/>
        <ToolbarSpacer/>
        <SearchField 
            width="20rem"
            placeholder="Buscar valores..."
            liveChange=".onSearch"/>
        <Button 
            icon="sap-icon://add"
            tooltip="Agregar nuevo"
            press=".onAddNew"/>
    </OverflowToolbar>

    <!-- ðŸ”¹ Tabla de valores -->
    <Table
        id="valuesTable"
        items="{path: 'values>/values'}"
        mode="SingleSelectMaster"
        selectionChange=".onItemSelect">
        
        <columns>
            <Column width="12rem"><Text text="VALUEID"/></Column>
            <Column minScreenWidth="Tablet"><Text text="VALUE"/></Column>
            <Column><Text text="ALIAS"/></Column>
            <Column><Text text="IMAGE"/></Column>
            <Column><Text text="DESCRIPTION"/></Column>
        </columns>
        
        <items>
            <ColumnListItem>
                <cells>
                    <Text text="{values>VALUEID}"/>
                    <Text text="{values>VALUE}"/>
                    <Text text="{values>ALIAS}"/>
                    <Text text="{values>IMAGE}"/>
                    <Text text="{values>DESCRIPTION}"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>

    <!-- ðŸ”¹ Barra de acciones -->
    <OverflowToolbar>
        <Button
            text="Editar"
            icon="sap-icon://edit"
            press=".onEditValue"
            enabled="{= !!${values>/selectedValue}}"/>
        <Button
            text="Eliminar"
            icon="sap-icon://delete"
            type="Reject"
            press=".onDeleteValue"
            enabled="{= !!${values>/selectedValue}}"/>
    </OverflowToolbar>
</mvc:View>