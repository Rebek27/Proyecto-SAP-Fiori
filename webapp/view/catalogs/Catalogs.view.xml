<mvc:View
    xmlns:form="sap.ui.layout.form"
    controllerName="com.invertions.sapfiorimodinv.controller.Catalogs"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:cc="com.invertions.sapfiorimodinv.controller"
>
    <Page title="Catálogos">
        <content>
            <VBox>
                <!-- Splitter control para dividir la pantalla en dos -->
                <cc:CustomSplitter
                    id="mainSplitter"
                    orientation="Horizontal"
                >
                    <!-- Panel izquierdo: Tabla de catálogos -->
                    <Panel>
                        <layoutData>
                            <layout:SplitterLayoutData size="100%" />
                        </layoutData>
                        <Button
                            text="Agregar label"
                            icon="sap-icon://add"
                            type="Emphasized"
                            press="onAddLabel"
                            width="150px"
                        />

                        <HBox>
                            <Label text="Filtrar por LABELID:" />
                            <Input
                                id="labelFilter"
                                width="200px"
                                liveChange="onFilterChange"
                            />
                            <Label text="Filtrar por VALUEID:" />
                            <Input
                                id="valueFilter"
                                width="200px"
                                liveChange="onFilterChange"
                            />
                        </HBox>
                        <Table
                            id="catalogTable"
                            items="{
                                path: '/value',
                                sorter: { path: 'LABELID' }
                            }"
                            itemPress="onItemPress"
                            mode="SingleSelectMaster"
                            growing="true"
                        >
                            <columns>
                                <Column>
                                    <Text text="LABELID" />
                                </Column>
                                <Column>
                                    <Text text="LABEL" />
                                </Column>
                                <Column>
                                    <Text text="VALUEID" />
                                </Column>
                                <Column>
                                    <Text text="VALUE" />
                                </Column>
                                <Column>
                                    <Text text="DESCRIPTION" />
                                </Column>
                                <Column>
                                    <Text text="IMAGE" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem type="Active">
                                    <cells>
                                        <Text text="{LABELID}" />
                                        <Text text="{LABEL}" />
                                        <Text text="{VALUEID}" />
                                        <Text text="{VALUE}" />
                                        <Text text="{DESCRIPTION}" />
                                        <Text text="{IMAGE}" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </Panel>
                    <!-- Panel derecho: View valores -->
                    <Panel id="detailPanel">
                        <layoutData>
                            <layout:SplitterLayoutData size="0px" />
                        </layoutData>
                        <Button
                            icon="sap-icon://decline"
                            type="Reject"
                            tooltip="Cerrar panel"
                            press="onCloseDetailPanel"
                        />
                        <mvc:XMLView
                            id="XMLViewValues"
                            viewName="com.invertions.sapfiorimodinv.view.catalogs.Values"
                        />
                    </Panel>
                </cc:CustomSplitter>
            </VBox>
        </content>
    </Page>
</mvc:View>
